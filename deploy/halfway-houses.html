<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halfway Houses - Nebraska Treatment Connect</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><a href="index.html">Nebraska Treatment Connect</a></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Residential & Detox</a></li>
                    <li><a href="halfway-houses.html" class="active">Halfway Houses</a></li>
                    <li><a href="outpatient.html">Outpatient Services</a></li>
                    <li><a href="detox.html">Detox Information</a></li>
                    <li><a href="provider-signin.html" id="provider-portal-btn">Provider Portal</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="search-section" class="container">
            <div class="search-layout">
                <div class="search-main">
                    <h1>Halfway Houses in Nebraska</h1>
                    <div class="category-chips" role="tablist" aria-label="Facility categories">
                        <button class="category-chip" data-link="index.html">Residential & Detox</button>
                        <button class="category-chip active" data-link="halfway-houses.html">Halfway Houses</button>
                        <button class="category-chip" data-link="outpatient.html">Outpatient Services</button>
                        <button class="category-chip" data-link="detox.html">Detox Information</button>
                    </div>
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Search by name, city, or ZIP code..." aria-label="Search for halfway houses">
                        <button id="search-btn" aria-label="Search for halfway houses"><i class="fas fa-search" aria-hidden="true"></i></button>
                        <button id="use-location-btn" title="Use my current location" aria-label="Use my current location"><i class="fas fa-crosshairs" aria-hidden="true"></i></button>
                    </div>
                    <p class="search-hint">
                        <i class="fas fa-map-marker-alt"></i> Search for your city or <i class="fas fa-crosshairs"></i> use your current location
                    </p>
                    <div id="recent-searches" class="recent-searches" aria-live="polite"></div>
                    <p class="search-description">
                        Transitional housing facilities providing structured support for individuals in recovery
                    </p>
                </div>
                <aside class="filters-container" aria-labelledby="filters-heading">
                    <h2 id="filters-heading" class="filters-title">Filters</h2>
                    <div class="filter-group">
                        <label for="search-radius">Search Radius</label>
                        <select id="search-radius" aria-describedby="search-radius-desc">
                            <option value="25">25 miles</option>
                            <option value="50">50 miles</option>
                            <option value="75">75 miles</option>
                            <option value="100">100 miles</option>
                            <option value="150">150 miles</option>
                            <option value="999" selected>All distances</option>
                        </select>
                        <div id="search-radius-desc" class="visually-hidden">Select maximum distance to search for facilities</div>
                    </div>
                    <div class="filter-group">
                        <label for="age-group">Age Group</label>
                        <select id="age-group" aria-describedby="age-group-desc">
                            <option value="">All</option>
                            <option value="Adult">Adult</option>
                            <option value="Juvenile">Juvenile</option>
                            <option value="Both">Both</option>
                        </select>
                        <div id="age-group-desc" class="visually-hidden">Filter facilities by age group served</div>
                    </div>
                    <div class="filter-group">
                        <label for="gender-served">Gender Served</label>
                        <select id="gender-served" aria-describedby="gender-served-desc">
                            <option value="">All</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Co-ed">Co-ed</option>
                        </select>
                        <div id="gender-served-desc" class="visually-hidden">Filter facilities by gender served</div>
                    </div>
                    <div class="filter-group">
                        <label for="treatment-type">Treatment Type</label>
                        <select id="treatment-type" aria-describedby="treatment-type-desc">
                            <option value="">All</option>
                            <option value="Substance Abuse">Substance Abuse</option>
                            <option value="Mental Health">Mental Health</option>
                            <option value="Both">Both</option>
                        </select>
                        <div id="treatment-type-desc" class="visually-hidden">Filter facilities by type of treatment offered</div>
                    </div>
                    <div class="filter-group">
                        <label for="facility-type">Facility Type</label>
                        <select id="facility-type" aria-describedby="facility-type-desc">
                            <option value="">All</option>
                            <option value="Halfway House" selected>Halfway House</option>
                            <option value="Outpatient">Outpatient</option>
                            <option value="Treatment Center">Treatment Center</option>
                            <option value="Detox">Detox Centers</option>
                        </select>
                        <div id="facility-type-desc" class="visually-hidden">Filter by type of treatment facility</div>
                    </div>
                </aside>
            </div>
        </section>

        <section id="results-section" class="container">
            <div class="results-header">
                <div class="results-count">
                    <span id="total-results">0</span> halfway houses found
                </div>
                <div class="results-actions">
                    <div class="view-toggle">
                        <button id="list-view-btn" class="view-btn active">
                            <i class="fas fa-list"></i> List View
                        </button>
                        <button id="map-view-btn" class="view-btn">
                            <i class="fas fa-map"></i> Map View
                        </button>
                    </div>
                    <div id="mini-map-preview" class="mini-map-preview" aria-hidden="true">
                        <div id="mini-map"></div>
                        <p class="mini-map-placeholder">Select a facility to preview its location</p>
                    </div>
                </div>
            </div>
            <div id="facilities-list">
                <!-- Facility cards will be dynamically inserted here -->
            </div>
            <div id="map-container" style="display: none;">
                <div id="google-map"></div>
            </div>
        </section>
        <div id="filter-summary-bar" class="filter-summary-bar" aria-live="polite">
            <div class="summary-text"></div>
            <button id="clear-filters-btn" class="clear-filters-btn" type="button">
                <i class="fas fa-times-circle"></i> Clear filters
            </button>
        </div>
        <div id="facility-detail-drawer" class="facility-detail-drawer" aria-hidden="true">
            <button id="drawer-close-btn" class="drawer-close-btn" aria-label="Close facility details">
                <i class="fas fa-times"></i>
            </button>
            <div class="drawer-content">
                <div class="drawer-header">
                    <h3 id="drawer-facility-name"></h3>
                    <span class="facility-type-badge" id="drawer-facility-type"></span>
                </div>
                <div id="drawer-status" class="drawer-status"></div>
                <div id="drawer-details" class="drawer-details"></div>
                <div id="drawer-actions" class="drawer-actions"></div>
            </div>
        </div>

        <!-- Information Section -->
        <section class="container" style="margin-top: 40px; padding: 30px 0;">
            <div style="background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <h2>About Halfway Houses</h2>
                <p>Halfway houses serve as a bridge between inpatient treatment and independent living. These facilities provide structured, supportive environments for individuals in recovery from substance abuse or mental health issues.</p>
                
                <h3>What Halfway Houses Provide</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div>
                        <h4><i class="fas fa-home" style="color: #1a73e8; margin-right: 8px;"></i>Structured Living</h4>
                        <p>Substance-free environment with house rules, curfews, and accountability measures.</p>
                    </div>
                    <div>
                        <h4><i class="fas fa-users" style="color: #1a73e8; margin-right: 8px;"></i>Peer Support</h4>
                        <p>Community of individuals in recovery providing mutual support and encouragement.</p>
                    </div>
                    <div>
                        <h4><i class="fas fa-briefcase" style="color: #1a73e8; margin-right: 8px;"></i>Life Skills</h4>
                        <p>Support for reintegration into work, education, and family responsibilities.</p>
                    </div>
                    <div>
                        <h4><i class="fas fa-link" style="color: #1a73e8; margin-right: 8px;"></i>Community Resources</h4>
                        <p>Connections to ongoing treatment, support groups, and community services.</p>
                    </div>
                </div>

                <h3>Benefits of Transitional Housing</h3>
                <ul style="margin: 15px 0;">
                    <li>Reduces risk of relapse during early recovery</li>
                    <li>Provides ongoing peer support and accountability</li>
                    <li>Creates structure during the transition to independence</li>
                    <li>Offers time to develop life skills and coping strategies</li>
                    <li>Maintains connection to treatment and support services</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Nebraska Treatment Connect. All rights reserved. | <a href="terms.html">Terms of Service</a> | <a href="privacy.html">Privacy Policy</a></p>
        </div>
    </footer>

    <!-- Configuration -->
    <script src="config.js"></script>

    <!-- Security Utilities -->
    <script src="security.js"></script>

    <!-- Shared Facility Helpers -->
    <script src="facility-utils.js"></script>
    
    <!-- Static Data -->
    <script src="static-data.js"></script>
    
    <script src="scripts.js"></script>
</body>
</html>
